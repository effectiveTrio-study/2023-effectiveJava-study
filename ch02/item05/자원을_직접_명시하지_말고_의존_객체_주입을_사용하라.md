### β μ •μ  μ ν‹Έλ¦¬ν‹°λ¥Ό μλ» μ‚¬μ©ν• μ - μ μ—°ν•μ§€ μ•κ³  ν…μ¤νΈν•κΈ° μ–΄λ µλ‹¤
```
public class SpellChecker {
	private static final Lexicon dictionary = ...;
    
    private SpellChecker() {}
    
    public static boolean isVaild(String word) {...}
    public static List<String> suggestions(String typo) {...}
}
```

### β μ‹±κΈ€ν„΄μ„ μλ» μ‚¬μ©ν• μ - μ μ—°ν•μ§€ μ•κ³  ν…μ¤νΈν•κΈ° μ–΄λ µλ‹¤
```
public class SpellChecker {
	private final Lexicon dictionary = ...;
    
    private SpellChecker() {}
    public static SpellChecker INSTANCE = new SpellChecker(...);
    
    public static boolean isVaild(String word) {...}
    public static List<String> suggestions(String typo) {...}
}
```

μ„ λ‘ μ½”λ“λ” λ¨λ‘ μ‚¬μ „μ„ λ‹¨ ν•λ‚λ§μΌλ΅λ§ μ‚¬μ©κ°€λ¥ν•λ‹¤.  
λ§μΌ μ–Έμ–΄λ³„ μ‚¬μ „, νΉμ μ–΄νμ© μ‚¬μ „, ν…μ¤νΈμ© μ‚¬μ „μ΄ ν•„μ”ν• κ²½μ° μ‚¬μ „ ν•λ‚λ΅ μ΄ λ¨λ“  μ“°μ„μ— λ€μ‘μ΄ λ¶κ°€λ¥ν•λ‹¤. 

## μμ΅΄ κ°μ²΄ μ£Όμ… ν¨ν„΄
`μ •μ`: μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  λ• μƒμ„±μμ— ν•„μ”ν• μμ›μ„ λ„κ²¨μ£Όλ” λ°©μ‹

### setter ν΄λμ¤ μ¶”κ°€ - μ¤λ¥ λ°μƒ κ°€λ¥μ„± μ΅΄μ¬, λ©€ν‹°μ¤λ λ“ ν™κ²½μ—μ„ λ¶€μ μ 
```
public static void setDictionary(Lexicon newDictionary) {
    this.dictionary = newDictionary;
}
```

#### λ‹¨μ 
- κ²½μ μ΅°κ±΄ (Race Condition): μ—¬λ¬ μ¤λ λ“κ°€ λ™μ‹μ— setDictionary λ©”μ„λ“λ¥Ό νΈμ¶ν•  λ•, λ™μ‹μ— dictionaryλ¥Ό λ‹¤λ¥Έ κ°’μΌλ΅ μ„¤μ •ν•  μ μλ‹¤. μ΄λ΅ μΈν•΄ μμΈ΅ λ¶κ°€λ¥ν• κ²°κ³Όκ°€ λ°μƒν•  μ μμΌλ©°, μ—¬λ¬ μ¤λ λ“κ°€ λ™μ‹μ— μ‚¬μ „μ„ λ³€κ²½ν•  λ• λ°μ΄ν„° λ¬΄κ²°μ„± λ¬Έμ κ°€ λ°μƒν•  μ μλ‹¤.
- μ¤λ λ“ μ•μ •μ„± (Thread Safety): λ©€ν‹°μ¤λ λ“ ν™κ²½μ—μ„ μ΄λ¬ν• μ‘μ—…μ„ μν–‰ν•  λ•, dictionaryλ¥Ό λ³€κ²½ν•λ” λ™μ• λ‹¤λ¥Έ μ¤λ λ“κ°€ dictionaryμ μƒνƒλ¥Ό μ½κ±°λ‚ λ³€κ²½ν•  μ μλ‹¤. μ΄λ΅ μΈν•΄ λ¶μΌμΉκ°€ λ°μƒν•κ±°λ‚ μμƒμΉ λ»ν• λ™μ‘μ΄ λ°μƒν•  μ μλ‹¤.  
- μ•λ’¤ λ¬Έλ§¥ μ΄ν•΄μ μ–΄λ ¤μ›€: μ½”λ“μ—μ„ μ–Έμ  setDictionary λ©”μ„λ“κ°€ νΈμ¶λμ—λ”μ§€ νμ•…ν•κΈ° μ–΄λ ¤μΈ μ μλ‹¤. μ΄λ΅ μΈν•΄ λ””λ²„κΉ… λ° μ½”λ“ μ΄ν•΄κ°€ μ–΄λ ¤μ›μ§ μ μλ‹¤.  

μ¦‰, μ‚¬μ©ν•λ” μμ›μ— λ”°λΌ λ™μ‘μ΄ λ‹¬λΌμ§€λ” ν΄λμ¤μ—λ” μ •μ  μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ‚ μ‹±κΈ€ν„΄ λ°©μ‹μ΄ μ ν•©ν•μ§€ μ•λ‹¤.

### β”οΈ μμ΅΄ κ°μ²΄ μ£Όμ…μ€ μ μ—°μ„±κ³Ό ν…μ¤νΈ μ©μ΄μ„±μ„ λ†’μ—¬μ¤€λ‹¤
```
public class SpellChecker {
	private final Lexicon dictionary;
    
    private SpellChecker(Lexicon dictionary) {
	    this.dictionary = Objects.requireNonNull(dictionary)
    }
    
    public static boolean isVaild(String word) {...}
    public static List<String> suggestions(String typo) {...}
}
```  

#### μ¥μ   
- μμ›μ΄ λ‡ κ°λ“  μμ΅΄ κ΄€κ³„κ°€ μ–΄λ–»λ“  μƒκ΄€μ—†μ΄ μ μ‘λ™ν•λ‹¤.
- λ¶λ³€μ„ λ³΄μ¥ν•μ—¬ μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ μμ΅΄ κ°μ²΄λ“¤μ„ μ•μ‹¬ν•κ³  κ³µμ κ°€λ¥ν•λ‹¤.  
- μƒμ„±μ, μ •μ  ν©ν„°λ¦¬, λΉλ” λ¨λ‘μ— λ‘κ°™μ΄ μ‘μ©κ°€λ¥ν•λ‹¤.  

### β”οΈ μƒμ„±μμ— μμ› ν©ν„°λ¦¬λ¥Ό λ„κ²¨μ£Όλ” λ°©μ‹
`ν©ν„°λ¦¬`: νΈμ¶ν•  λ•λ§λ‹¤ νΉμ • νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό λ°λ³µν•΄μ„ λ§λ“¤μ–΄μ£Όλ” κ°μ²΄. μ¦‰, ν©ν„°λ¦¬ λ©”μ„λ“ ν¨ν„΄μ„ κµ¬ν„ν• κ²ƒ  
`μμ‹`: Supplier<T> μΈν„°νμ΄μ¤  

`Supplier<T>` μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ΄ λ…μ‹ν• νƒ€μ…μ ν•μ„ νƒ€μ…μ΄λΌλ©΄ λ¬΄μ—‡μ΄λ“  μƒμ„±κ°€λ¥ν• ν©ν„°λ¦¬λ¥Ό λ„κΈΈ μ μλ‹¤.

```
class Resource {
    public Resource() {
        System.out.println("Resource created.");
    }
    
    public void doSomething() {
        System.out.println("Resource is doing something.");
    }
}

class MyObject {
    private final Resource resource;

    // μƒμ„±μμ— Supplier<Resource>λ¥Ό λ°›μ•„ μμ›μ„ μƒμ„±
    public MyObject(Supplier<Resource> resourceSupplier) {
        this.resource = resourceSupplier.get();
    }

    public void useResource() {
        resource.doSomething();
    }
}

public class Main {
    public static void main(String[] args) {
        // Supplierλ¥Ό μ‚¬μ©ν•μ—¬ Resourceλ¥Ό μƒμ„±ν•λ” λ°©λ²•
        Supplier<Resource> resourceFactory = () -> new Resource();

        // MyObjectλ¥Ό μƒμ„±ν•  λ• Supplierλ¥Ό μ „λ‹¬
        MyObject myObject = new MyObject(resourceFactory);

        // MyObjectκ°€ Resourceλ¥Ό μ‚¬μ©
        myObject.useResource();
    }
}
```
μ„μ μ½”λ“μ—μ„, Resource ν΄λμ¤λ” μƒμ„±μλ¥Ό ν†µν•΄ μμ›μ„ μƒμ„±ν•λ‹¤.  
`MyObject` ν΄λμ¤λ” `Resource`λ¥Ό μ‚¬μ©ν•λ”λ°, `MyObject`μ μƒμ„±μλ” `Supplier<Resource>`λ¥Ό μΈμλ΅ λ°›μ•„ get() λ©”μ„λ“λ¥Ό νΈμ¶ν•μ—¬ Resourceλ¥Ό μƒμ„±ν•λ‹¤.  
μ΄λ ‡κ² ν•λ©΄ `Resource`μ μƒμ„± λ° κ΄€λ¦¬κ°€ `MyObject`μ—μ„ λ¶„λ¦¬λλ©° μ¬μ‚¬μ©μ΄λ‚ ν…μ¤νΈμ— μ©μ΄ν•λ‹¤.  

#### λ‹¨μ 
- μμ΅΄μ„±μ΄ μ μ² κ°λ‚ λλ” ν° ν”„λ΅μ νΈμ—μ„  μ½”λ“λ¥Ό μ–΄μ§€λ½κ² λ§λ“ λ‹¤.  
    - μ΄λ¥Ό ν•΄μ†ν•κΈ° μ„ν•΄, `λ€κ±°(Dagger)`, `μ£Όμ¤(Guice)`, `μ¤ν”„λ§(Spring)` κ°™μ€ μμ΅΄ κ°μ²΄ μ£Όμ… ν”„λ μ„μ›ν¬λ¥Ό μ‚¬μ©ν•λ‹¤. 

--- 
### π“ Reference
- [ITEM 5: Dependency Injection](https://dahye-jeong.gitbook.io/java/java/effective_java/2021-01-16-dependency-injection)
- [λ‹¤μ¤‘ instance λ°©μ§€ & μμ΅΄μ„± μ£Όμ…[Dependency Injection]](https://xonmin.tistory.com/8)